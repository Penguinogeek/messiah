<!DOCTYPE html>
  <html>
    <head>
      <!--Import Google Icon Font-->
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <!--Import materialize.css-->
      <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>
	<link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" type="text/css" href="css/easy-autocomplete.min.css">
    <link rel="stylesheet" type="text/css" href="css/flags.css">
    <link rel="stylesheet" type="text/css" href="css/easy-autocomplete.themes.min.css">
      <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
      <title>Messiah</title>
    </head>
	<body>
		<div class="heading">
			<h1>MESSIAH</h1>
		</div>
		<nav>
	    	<div class="nav-wrapper red">
		      <a href="#!" class="brand-logo">MESSIAH</a>
		      <a href="#" data-target="mobile-demo" class="sidenav-trigger"><i class="material-icons">menu</i></a>
		      <ul class="right hide-on-med-and-down">
		        <li class="active"><a href="landingpage.html">Home</a></li>
		        <li><a href="about.html">About Us</a></li>
		        <li><a href="dashboard.html">Dashboard</a></li>
		        <li><a href="sms.html">SMS service</a></li>
		        <li><a href="scope.html">Further Scope</a></li>
			  </ul>
	    	</div>
  		</nav>

      <canvas id="globe"></canvas>
      <pre style="font-size: 2rem;">Do you know
that <span id="number">____</span> people
died in <span id="year">_____</span>
due to <span id="calamity">____</span>s !!</pre>

    <form>
      <div class="row center">
          <div class="input-field col s12 14 m4">
            <input id="textarea1" />
          </div>
      </div>
    </form>
  </div>


      <div class="row center">
    <div class="col s12 m12 l12">
      <div class="card indigo darken-4">
        <div class="card-content white-text">
          <span class="card-title">What is Messiah</span>
          <p>This will give a basic idea about our mission, the various services we offer, and a guide to the user for getting started. </p>
        </div>
      </div>
    </div>
  </div>

  			<ul class="sidenav" id="mobile-demo">
    			<li class="active"><a href="landingpage.html">Home</a></li>
		        <li><a href="about.html">About Us</a></li>
		        <li><a href="dashboard.html">Dashboard</a></li>
		        <li><a href="sms.html">SMS service</a></li>
		        <li><a href="scope.html">Further Scope</a></li>
  </ul>
      <!--JavaScript at end of body for optimized loading-->
      <script type="text/javascript" src="js/materialize.min.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.2.2/d3.min.js"></script>
      <script type="text/javascript" src="https://d3js.org/d3-geo.v1.min.js"></script>
      <script type="text/javascript" src="https://d3js.org/topojson.v2.min.js"></script>
      <script type="text/javascript" src="https://bl.ocks.org/mbostock/raw/7ea1dde508cec6d2d95306f92642bc42/6aac691494f752142a67cc43c51a0fd09896dbd4/versor.js"></script>
      <script type="text/javascript" src="js/rotate.js"></script>
      <script type="text/javascript" src="js/jquery-3.3.1.min.js"></script>
      <script type="text/javascript" src="js/jquery.easy-autocomplete.min.js"></script>
      <script type="text/javascript">
      	$(document).ready(function(){
    $('.sidenav').sidenav();
  });
      </script>
    <script>
        var options = {
              url: "resources/countries.json",
              getValue: "name",
              list: {
                  match: {
                      enabled: true
                  },
                  maxNumberOfElements: 8
              },
            template: {
                  type: "custom",
                method: function (value, item) {
                    return "<span class='flag flag-" + (item.code).toLowerCase() + "' ></span>" + value;
                }
            },
              theme: "round"
          };
        // alert(options.list);
          $("#textarea1").easyAutocomplete(options);
    </script>
    <script>

        const Http = new XMLHttpRequest();
        const url = 'http://127.0.0.1:5000/random_facts';
        Http.open("GET", url);
        Http.send();

        // alert("here");
        Http.onreadystatechange = (err) => {
            // alert(resp.json());
            var data=eval("(" + Http.responseText + ")");
            // alert(data.length);
            // alert(data[0][0]);
            // console.log(data);
            // alert(resp.text());
            var data_num = [];
            var data_dec = [];
            var data_cal = [];

            // alert(data[0][0]);
            for (var i = 0; i < data.length; i++) {
                data_num.push(data[i][0]);
                data_dec.push(data[i][1]);
                data_cal.push(data[i][2].toLowerCase());
            }

            function rotateTerm() {

                var ct = $("#number").data("term") || 0;
                var ct2 = $("#year").data("term") || 0;
                var ct3 = $("#calamity").data("term") || 0;


                $("#number").data("term",
                    ct == data.length - 1 ? 0 : ct + 1).text(data_num[ct])
                    .fadeIn().delay(2000).fadeOut(200, rotateTerm);

                $("#year").data("term",
                    ct2 == data.length - 1 ? 0 : ct2 + 1).text(data_dec[ct2])
                    .fadeIn().delay(2000).fadeOut(200, rotateTerm);

                $("#calamity").data("term",
                    ct3 == data.length - 1 ? 0 : ct3 + 1).text(data_cal[ct3])
                    .fadeIn().delay(2000).fadeOut(200, rotateTerm);

            }

            console.log("here");

            $(rotateTerm);
        }
    </script>
    </body>
  </html>
        